{"version":3,"file":"earthjs.js","sources":["../src/earthjs.js","../src/versor.js","../src/plugins/versorDragPlugin.js","../src/plugins/wheelZoomPlugin.js","../src/plugins/canvasPlugin.js","../src/plugins/oceanPlugin.js","../src/plugins/configPlugin.js","../src/plugins/graticuleCanvas.js","../src/plugins/graticulePlugin.js","../src/plugins/fauxGlobePlugin.js","../src/plugins/autorotatePlugin.js","../src/plugins/placesPlugin.js","../src/plugins/worldCanvas.js","../src/plugins/worldPlugin.js","../src/plugins/centerPlugin.js","../src/plugins/countryTooltipPlugin.js","../src/plugins/flattenPlugin.js","../src/plugins/barPlugin.js","../index.js"],"sourcesContent":["export default function (options={}) {\n    options = Object.assign({\n        select: '#earth',\n        height: 500,\n        width:  700,\n    }, options);\n    var _ = {\n        onResize: {},\n        onResizeKeys: [],\n\n        onRefresh: {},\n        onRefreshKeys: [],\n\n        onInterval: {},\n        onIntervalKeys: [],\n\n        svgCreateOrder: [\n            'svgAddDropShadow',\n            'svgAddCanvas',\n            'canvasAddGraticule',\n            'canvasAddWorldOrCountries',\n            'svgAddOcean',\n            'svgAddGlobeShading',\n            'svgAddGraticule',\n            'svgAddWorldOrCountries',\n            'svgAddGlobeHilight',\n            'svgAddPlaces',\n            'svgAddBar',\n        ],\n        ready: null,\n        loadingData: null\n    }\n    var drag = false;\n    var width = options.width;\n    var height = options.height;\n    var ltScale = d3.scaleLinear().domain([0, width]).range([-180, 180]);\n    var svg = d3.selectAll(options.select).attr(\"width\", width).attr(\"height\", height);\n    var planet = {\n        _: {\n            svg,\n            drag,\n            options,\n            ltScale,\n        },\n        ready: function(fn) {\n            if (fn) {\n                _.ready = fn;\n            } else {\n                return _.loadingData;\n            }\n        },\n        register: function(obj) {\n            var ar = {};\n            planet[obj.name] = ar;\n            Object.keys(obj).map(function(fn) {\n                if ([\n                    'urls',\n                    'onReady',\n                    'onInit',\n                    'onResize',\n                    'onRefresh',\n                    'onInterval'].indexOf(fn)===-1) {\n                    if (typeof(obj[fn])==='function') {\n                        ar[fn] = function() {\n                            return obj[fn].apply(planet, arguments);\n                        }\n                    }\n                }\n            });\n            if (obj.onInit) {\n                obj.onInit.call(planet);\n            }\n            qEvent(obj,'onResize');\n            qEvent(obj,'onRefresh');\n            qEvent(obj,'onInterval');\n            if (obj.urls && obj.onReady) {\n                _.loadingData = true;\n                var q = d3.queue();\n                obj.urls.forEach(function(url) {\n                    var ext = url.split('.').pop();\n                    q.defer(d3[ext], url);\n                });\n                q.await(function() {\n                    obj.onReady.apply(planet, arguments);\n                    _.loadingData = false;\n                    _.ready.call(planet);\n                });\n            }\n            return planet;\n        }\n    }\n\n    planet._.defs = planet._.svg.append(\"defs\");\n    //----------------------------------------\n    var earth = null;\n    var ticker = null;\n    planet._.ticker = function(interval) {\n        interval = interval || 50;\n        ticker = setInterval(function(){\n            planet._.intervalRun.call(planet);\n            earth && earth._.intervalRun.call(earth);\n        }, interval);\n        return planet;\n    }\n\n    planet.svgDraw = function(twinEarth) {\n        _.svgCreateOrder.forEach(function(svgCreateKey) {\n            planet[svgCreateKey] && planet[svgCreateKey].call(planet);\n        });\n        if (twinEarth) {\n            twinEarth.svgDraw(null);\n            earth = twinEarth;\n        }\n        if (ticker===null && twinEarth!==null) {\n            planet._.ticker.call(planet);\n        }\n        return planet;\n    }\n\n    //----------------------------------------\n    // Helper\n    planet._.scale = function(y) {\n        planet._.proj.scale(y);\n        planet._.resize.call(planet);\n        planet._.refresh.call(planet);\n        return planet;\n    }\n\n    planet._.rotate = function(r) {\n        planet._.proj.rotate(r);\n        planet._.refresh.call(planet);\n        return planet;\n    }\n\n    planet._.intervalRun = function() {\n        if (_.onIntervalKeys.length>0) {\n            _.onIntervalKeys.map(function(fn) {\n                _.onInterval[fn].call(planet);\n            });\n        }\n    }\n\n    planet._.refresh = function() {\n        if (_.onRefreshKeys.length>0) {\n            _.onRefreshKeys.map(function(fn) {\n                _.onRefresh[fn].call(planet);\n            });\n        }\n        return planet;\n    }\n\n    planet._.resize = function() {\n        if (_.onResizeKeys.length>0) {\n            _.onResizeKeys.map(function(fn) {\n                _.onResize[fn].call(planet);\n            });\n        }\n        return planet;\n    }\n\n    planet._.orthoGraphic = function() {\n        var width = planet._.options.width;\n        var height= planet._.options.height;\n        var ltRotate = planet._.ltScale(130);\n        return d3.geoOrthographic()\n            .scale(width / 3.5)\n            .rotate([ltRotate, 0])\n            .translate([width / 2, height / 2])\n            .clipAngle(90);\n    }\n\n    planet._.proj = planet._.orthoGraphic();\n    planet._.path = d3.geoPath().projection(planet._.proj);\n    return planet;\n    //----------------------------------------\n    function qEvent(obj, qname) {\n        var qkey = qname+'Keys';\n        if (obj[qname]) {\n            _[qname][obj.name] = obj[qname];\n            _[qkey] = Object.keys(_[qname]);\n        }\n    }\n}\n","// Version 0.0.0. Copyright 2017 Mike Bostock.\nexport default function() {\n    var acos = Math.acos,\n        asin = Math.asin,\n        atan2 = Math.atan2,\n        cos = Math.cos,\n        max = Math.max,\n        min = Math.min,\n        PI = Math.PI,\n        sin = Math.sin,\n        sqrt = Math.sqrt,\n        radians = PI / 180,\n        degrees = 180 / PI;\n\n    // Returns the unit quaternion for the given Euler rotation angles [λ, φ, γ].\n    function versor(e) {\n      var l = e[0] / 2 * radians, sl = sin(l), cl = cos(l), // λ / 2\n          p = e[1] / 2 * radians, sp = sin(p), cp = cos(p), // φ / 2\n          g = e[2] / 2 * radians, sg = sin(g), cg = cos(g); // γ / 2\n      return [\n        cl * cp * cg + sl * sp * sg,\n        sl * cp * cg - cl * sp * sg,\n        cl * sp * cg + sl * cp * sg,\n        cl * cp * sg - sl * sp * cg\n      ];\n    }\n\n    // Returns Cartesian coordinates [x, y, z] given spherical coordinates [λ, φ].\n    versor.cartesian = function(e) {\n      var l = e[0] * radians, p = e[1] * radians, cp = cos(p);\n      return [cp * cos(l), cp * sin(l), sin(p)];\n    };\n\n    // Returns the Euler rotation angles [λ, φ, γ] for the given quaternion.\n    versor.rotation = function(q) {\n      return [\n        atan2(2 * (q[0] * q[1] + q[2] * q[3]), 1 - 2 * (q[1] * q[1] + q[2] * q[2])) * degrees,\n        asin(max(-1, min(1, 2 * (q[0] * q[2] - q[3] * q[1])))) * degrees,\n        atan2(2 * (q[0] * q[3] + q[1] * q[2]), 1 - 2 * (q[2] * q[2] + q[3] * q[3])) * degrees\n      ];\n    };\n\n    // Returns the quaternion to rotate between two cartesian points on the sphere.\n    versor.delta = function(v0, v1) {\n      var w = cross(v0, v1), l = sqrt(dot(w, w));\n      if (!l) return [1, 0, 0, 0];\n      var t = acos(max(-1, min(1, dot(v0, v1)))) / 2, s = sin(t); // t = θ / 2\n      return [cos(t), w[2] / l * s, -w[1] / l * s, w[0] / l * s];\n    };\n\n    // Returns the quaternion that represents q0 * q1.\n    versor.multiply = function(q0, q1) {\n      return [\n        q0[0] * q1[0] - q0[1] * q1[1] - q0[2] * q1[2] - q0[3] * q1[3],\n        q0[0] * q1[1] + q0[1] * q1[0] + q0[2] * q1[3] - q0[3] * q1[2],\n        q0[0] * q1[2] - q0[1] * q1[3] + q0[2] * q1[0] + q0[3] * q1[1],\n        q0[0] * q1[3] + q0[1] * q1[2] - q0[2] * q1[1] + q0[3] * q1[0]\n      ];\n    };\n\n    function cross(v0, v1) {\n      return [\n        v0[1] * v1[2] - v0[2] * v1[1],\n        v0[2] * v1[0] - v0[0] * v1[2],\n        v0[0] * v1[1] - v0[1] * v1[0]\n      ];\n    }\n\n    function dot(v0, v1) {\n      return v0[0] * v1[0] + v0[1] * v1[1] + v0[2] * v1[2];\n    }\n\n    return versor;\n}\n","// Mike Bostock’s Block https://bl.ocks.org/mbostock/7ea1dde508cec6d2d95306f92642bc42\n//\nimport versorFn from '../versor.js';\n\nvar versor = versorFn();\nexport default function() {\n    return {\n        name: 'versorDragPlugin',\n        onInit() {\n            var _this = this;\n            this._.svg.call(d3.drag()\n                .on('start', dragstarted)\n                .on('end',   dragsended)\n                .on('drag',  dragged));\n\n            var v0, // Mouse position in Cartesian coordinates at start of drag gesture.\n                r0, // Projection rotation as Euler angles at start.\n                q0; // Projection rotation as versor at start.\n\n            function dragstarted() {\n                _this._.drag = true;\n                v0 = versor.cartesian(_this._.proj.invert(d3.mouse(this)));\n                r0 = _this._.proj.rotate();\n                q0 = versor(r0);\n            }\n\n            function dragsended() {\n                _this._.drag = false;\n            }\n\n            function dragged() {\n                var v1 = versor.cartesian(_this._.proj.rotate(r0).invert(d3.mouse(this))),\n                    q1 = versor.multiply(q0, versor.delta(v0, v1)),\n                    r1 = versor.rotation(q1);\n                _this._.rotate(r1);\n            }\n        }\n    }\n}\n","export default function() {\n    return {\n        name: 'wheelZoomPlugin',\n        onInit() {\n            var _this = this;\n            this._.svg.on('wheel', function() {\n                var y = d3.event.deltaY+_this._.proj.scale();\n                if (y>230 && y<1000) {\n                    _this._.scale(y);\n                }\n            });\n        }\n    }\n}\n","// Bo Ericsson’s Block http://bl.ocks.org/boeric/aa80b0048b7e39dd71c8fbe958d1b1d4\nexport default function() {\n    var _ = {svg:null, select: null}\n\n    function svgAddCanvas() {\n        _.svg.selectAll('.canvas').remove();\n        if (this._.options.showCanvas) {\n            var fObject = _.svg.append(\"foreignObject\")\n            .attr(\"class\", \"canvas\")\n            .attr(\"x\", 0)\n            .attr(\"y\", 0)\n            .attr(\"width\", this._.options.width)\n            .attr(\"height\", this._.options.height);\n            var fBody = fObject.append(\"xhtml:body\")\n            .style(\"margin\", \"0px\")\n            .style(\"padding\", \"0px\")\n            .style(\"background-color\", \"none\")\n            .style(\"width\", this._.options.width + \"px\")\n            .style(\"height\", this._.options.height + \"px\");\n            this._.canvas = fBody.append(\"canvas\")\n            .attr(\"x\", 0)\n            .attr(\"y\", 0)\n            .attr(\"width\", this._.options.width)\n            .attr(\"height\", this._.options.height);\n            return this._.canvas;\n        }\n    }\n\n    return {\n        name: 'canvasPlugin',\n        onInit() {\n            this.svgAddCanvas = svgAddCanvas;\n            this._.options.showCanvas = true;\n            _.svg = this._.svg;\n        },\n        onRefresh() {\n            var context = this._.canvas.node().getContext(\"2d\");\n            context.clearRect(0, 0, this._.options.width, this._.options.height);\n        },\n        select(slc) {\n            _.svg = d3.selectAll(slc);\n            _.select = slc;\n            return _.svg;\n        },\n        context() {\n            return this._.canvas.node().getContext(\"2d\");\n        },\n        path() {\n            var context = this.canvasPlugin.context();\n            var path = d3.geoPath().projection(this._.proj).context(context);\n            return path;\n        }\n    }\n}\n","export default function(initOptions={}) {\n    var _ = {svg:null, select: null};\n\n    function svgAddOcean() {\n        _.svg.selectAll('#ocean,.ocean').remove();\n        if (this._.options.showOcean) {\n            var ocean_fill = this._.defs.append(\"radialGradient\")\n                .attr(\"id\", \"ocean\")\n                .attr(\"cx\", \"75%\")\n                .attr(\"cy\", \"25%\");\n            ocean_fill.append(\"stop\")\n                .attr(\"offset\", \"5%\")\n                .attr(\"stop-color\", \"#ddf\");\n            ocean_fill.append(\"stop\")\n                .attr(\"offset\", \"100%\")\n                .attr(\"stop-color\", \"#9ab\");\n            this._.ocean = _.svg.append(\"circle\")\n                .attr(\"cx\",this._.options.width / 2).attr(\"cy\", this._.options.height / 2)\n                .attr(\"r\", this._.proj.scale())\n                .attr(\"class\", \"ocean noclicks\")\n            return this._.ocean;\n        }\n    }\n\n    initOptions = Object.assign({\n        showOcean: true,\n    }, initOptions);\n\n    return {\n        name: 'oceanPlugin',\n        onInit() {\n            Object.assign(this._.options, initOptions);\n            this.svgAddOcean = svgAddOcean;\n            _.svg = this._.svg;\n        },\n        onResize() {\n            if (this._.ocean && this._.options.showOcean) {\n                this._.ocean.attr(\"r\", this._.proj.scale());\n            }\n        },\n        select(slc) {\n            _.svg = d3.selectAll(slc);\n            _.select = slc;\n            return _.svg;\n        }\n    }\n}\n","export default function() {\n    return {\n        name: 'configPlugin',\n        set(newOpt) {\n            if (newOpt) {\n                Object.assign(this._.options, newOpt);\n                if (newOpt.spin!==undefined) {\n                    var p = this.autorotatePlugin;\n                    newOpt.spin ? p.start() : p.stop();\n                }\n                this._.drag = true;\n                this.svgDraw();\n                this._.drag = false;\n            }\n            return Object.assign({}, this._.options);\n        }\n    }\n}\n","export default function() {\n    var datumGraticule = d3.geoGraticule();\n\n    function canvasAddGraticule() {\n        if (this._.options.showGraticule) {\n            var context = this.canvasPlugin.context();\n            var path = this.canvasPlugin.path();\n            context.beginPath();\n            path(datumGraticule());\n            context.lineWidth = 0.3;\n            context.strokeStyle = 'rgba(119,119,119,.5)';\n            context.stroke();\n        }\n    }\n\n    return {\n        name: 'graticuleCanvas',\n        onInit() {\n            this.canvasAddGraticule = canvasAddGraticule;\n            this._.options.showGraticule = true;\n        },\n        onRefresh() {\n            canvasAddGraticule.call(this);\n        }\n    }\n}\n","export default function() {\n    var datumGraticule = d3.geoGraticule();\n    var _ = {svg:null, select: null}\n\n    function svgAddGraticule() {\n        _.svg.selectAll('.graticule').remove();\n        if (this._.options.showGraticule) {\n            this._.graticule = _.svg.append(\"g\").attr(\"class\",\"graticule\").append(\"path\")\n                .datum(datumGraticule)\n                .attr(\"class\", \"noclicks\")\n                .attr(\"d\", this._.path);\n            return this._.graticule;\n        }\n    }\n\n    return {\n        name: 'graticulePlugin',\n        onInit() {\n            this.svgAddGraticule = svgAddGraticule;\n            this._.options.showGraticule = true;\n            _.svg = this._.svg;\n        },\n        onRefresh() {\n            if (this._.graticule && this._.options.showGraticule) {\n                this._.graticule.attr(\"d\", this._.path);\n            }\n        },\n        select(slc) {\n            _.svg = d3.selectAll(slc);\n            _.select = slc;\n            return _.svg;\n        }\n    }\n}\n","// Derek Watkins’s Block http://bl.ocks.org/dwtkns/4686432\n//\nexport default function(initOptions={}) {\n    var _ = {svg:null, select: null};\n\n    function svgAddDropShadow() {\n        _.svg.selectAll('#drop_shadow,.drop_shadow').remove();\n        if (this._.options.showGlobeShadow) {\n            var drop_shadow = this._.defs.append(\"radialGradient\")\n                  .attr(\"id\", \"drop_shadow\")\n                  .attr(\"cx\", \"50%\")\n                  .attr(\"cy\", \"50%\");\n                drop_shadow.append(\"stop\")\n                  .attr(\"offset\",\"20%\").attr(\"stop-color\", \"#000\")\n                  .attr(\"stop-opacity\",\".5\")\n                drop_shadow.append(\"stop\")\n                  .attr(\"offset\",\"100%\").attr(\"stop-color\", \"#000\")\n                  .attr(\"stop-opacity\",\"0\")\n            this._.dropShadow = _.svg.append(\"ellipse\")\n                  .attr(\"cx\", this._.options.width/2).attr(\"cy\", this._.options.height-50)\n                  .attr(\"rx\", this._.proj.scale()*0.90)\n                  .attr(\"ry\", this._.proj.scale()*0.25)\n                  .attr(\"class\", \"drop_shadow noclicks\")\n                  .style(\"fill\", \"url(#drop_shadow)\");\n            this._.dropShadow;\n        }\n    }\n\n    function svgAddGlobeShading() {\n        _.svg.selectAll('#globe_shading,.globe_shading').remove();\n        if (this._.options.showGlobeShading) {\n            var globe_shading = this._.defs.append(\"radialGradient\")\n                  .attr(\"id\", \"globe_shading\")\n                  .attr(\"cx\", \"50%\")\n                  .attr(\"cy\", \"40%\");\n                globe_shading.append(\"stop\")\n                  .attr(\"offset\",\"50%\").attr(\"stop-color\", \"#9ab\")\n                  .attr(\"stop-opacity\",\"0\")\n                globe_shading.append(\"stop\")\n                  .attr(\"offset\",\"100%\").attr(\"stop-color\", \"#3e6184\")\n                  .attr(\"stop-opacity\",\"0.3\")\n            this._.globeShading = _.svg.append(\"circle\")\n                .attr(\"cx\", this._.options.width / 2).attr(\"cy\", this._.options.height / 2)\n                .attr(\"r\",  this._.proj.scale())\n                .attr(\"class\",\"globe_shading noclicks\")\n                .style(\"fill\", \"url(#globe_shading)\");\n            return this._.globeShading;\n        }\n    }\n\n    function svgAddGlobeHilight() {\n        _.svg.selectAll('#globe_hilight,.globe_hilight').remove();\n        if (this._.options.showGlobeHilight) {\n            var globe_highlight = this._.defs.append(\"radialGradient\")\n                  .attr(\"id\", \"globe_hilight\")\n                  .attr(\"cx\", \"75%\")\n                  .attr(\"cy\", \"25%\");\n                globe_highlight.append(\"stop\")\n                  .attr(\"offset\", \"5%\").attr(\"stop-color\", \"#ffd\")\n                  .attr(\"stop-opacity\",\"0.6\");\n                globe_highlight.append(\"stop\")\n                  .attr(\"offset\", \"100%\").attr(\"stop-color\", \"#ba9\")\n                  .attr(\"stop-opacity\",\"0.2\");\n            this._.globeHilight = _.svg.append(\"circle\")\n                .attr(\"cx\", this._.options.width / 2).attr(\"cy\", this._.options.height / 2)\n                .attr(\"r\",  this._.proj.scale())\n                .attr(\"class\",\"globe_hilight noclicks\")\n                .style(\"fill\", \"url(#globe_hilight)\");\n            return this._.globeHilight;\n        }\n    }\n\n    initOptions = Object.assign({\n        showGlobeShadow: true,\n        showGlobeShading: true,\n        showGlobeHilight: true,\n    }, initOptions);\n\n    return {\n        name: 'fauxGlobePlugin',\n        onInit() {\n            Object.assign(this._.options, initOptions);\n            this.svgAddDropShadow = svgAddDropShadow;\n            this.svgAddGlobeHilight = svgAddGlobeHilight;\n            this.svgAddGlobeShading = svgAddGlobeShading;\n            _.svg = this._.svg;\n        },\n        onResize() {\n            if (this._.globeShading && this._.options.showGlobeShading) {\n                this._.globeShading.attr(\"r\", this._.proj.scale());\n            }\n            if (this._.globeHilight && this._.options.showGlobeHilight) {\n                this._.globeHilight.attr(\"r\", this._.proj.scale());\n            }\n        },\n        select(slc) {\n            _.svg = d3.selectAll(slc);\n            _.select = slc;\n            return _.svg;\n        }\n    }\n}\n","export default function(degPerSec) {\n    var _ = {\n        spin: true,\n        lastTick: null,\n        degree: degPerSec\n    }\n\n    return {\n        name: 'autorotatePlugin',\n        onInit() {},\n        onInterval() {\n            var now = new Date();\n            if (!_.lastTick || !_.spin || this._.drag) {\n                _.lastTick = now;\n            } else {\n                var delta = now - _.lastTick;\n                var r = this._.proj.rotate();\n                r[0] += _.degree * delta / 1000;\n                if (r[0] >= 180)\n                    r[0] -= 360;\n                this._.rotate(r);\n                _.lastTick = now;\n            }\n        },\n        speed(degPerSec) {\n            _.degree = degPerSec;\n        },\n        start() {\n            _.spin = true;\n        },\n        stop() {\n            _.spin = false;\n        }\n    };\n}\n","export default function(urlPlaces) {\n    var _ = {svg:null, select: null, places: null};\n\n    function svgAddPlaces() {\n        _.svg.selectAll('.points,.labels').remove();\n        if (_.places) {\n            if (this._.options.showPlaces) {\n                svgAddPlacePoints.call(this);\n                svgAddPlaceLabels.call(this);\n                position_labels.call(this);\n            }\n        }\n    }\n\n    function svgAddPlacePoints() {\n        this._.placePoints = _.svg.append(\"g\").attr(\"class\",\"points\").selectAll(\"path\")\n            .data(_.places.features).enter().append(\"path\")\n            .attr(\"class\", \"point\")\n            .attr(\"d\", this._.path);\n        return this._.placePoints;\n    }\n\n    function svgAddPlaceLabels() {\n        this._.placeLabels = _.svg.append(\"g\").attr(\"class\",\"labels\").selectAll(\"text\")\n            .data(_.places.features).enter().append(\"text\")\n            .attr(\"class\", \"label\")\n            .text(function(d) { return d.properties.name });\n        return this._.placeLabels;\n    }\n\n    function position_labels() {\n        var _this = this;\n        var centerPos = this._.proj.invert([this._.options.width / 2, this._.options.height/2]);\n\n        this._.placeLabels\n            .attr(\"text-anchor\",function(d) {\n                var x = _this._.proj(d.geometry.coordinates)[0];\n                return x < _this._.options.width/2-20 ? \"end\" :\n                       x < _this._.options.width/2+20 ? \"middle\" :\n                       \"start\"\n            })\n            .attr(\"transform\", function(d) {\n                var loc = _this._.proj(d.geometry.coordinates),\n                    x = loc[0],\n                    y = loc[1];\n                var offset = x < _this._.options.width/2 ? -5 : 5;\n                return \"translate(\" + (x+offset) + \",\" + (y-2) + \")\"\n            })\n            .style(\"display\", function(d) {\n                return d3.geoDistance(d.geometry.coordinates, centerPos) > 1.57 ? 'none' : 'inline';\n            });\n    }\n\n    return {\n        name: 'placesPlugin',\n        urls: urlPlaces && [urlPlaces],\n        onReady(err, places) {\n            _.places = places;\n        },\n        onInit() {\n            this._.options.showPlaces = true;\n            this.svgAddPlaces = svgAddPlaces;\n            _.svg = this._.svg;\n        },\n        onRefresh() {\n            if (this._.placePoints) {\n                this._.placePoints.attr(\"d\", this._.path);\n                position_labels.call(this);\n            }\n        },\n        select(slc) {\n            _.svg = d3.selectAll(slc);\n            _.select = slc;\n            return _.svg;\n        },\n        data(p) {\n            if (p) {\n                var data = p.placesPlugin.data()\n                _.places = data.places;\n            } else {\n                return {places: _.places}\n            }\n        }\n    };\n}\n","export default function(urlWorld, urlCountryNames) {\n    var _ = {world: null, countryNames: null};\n\n    function canvasAddWorldOrCountries() {\n        if (this._.options.showLand) {\n            if (_.world) {\n                canvasAddWorld.call(this);\n                if (this._.options.showCountries) {\n                    canvasAddCountries.call(this);\n                }\n                if (this._.options.showLakes) {\n                    canvasAddLakes.call(this);\n                }\n            }\n        }\n    }\n\n    function canvasAddWorld() {\n        var land = topojson.feature(_.world, _.world.objects.land);\n        var context = this.canvasPlugin.context();\n        var path = this.canvasPlugin.path();\n        context.beginPath();\n        path(land);\n        context.fillStyle = \"rgb(117, 87, 57)\";\n        context.fill();\n    }\n\n    function canvasAddCountries() {\n        var countries = topojson.feature(_.world, _.world.objects.countries);\n        var context = this.canvasPlugin.context();\n        var path = this.canvasPlugin.path();\n        context.beginPath();\n        path(countries);\n        context.lineWidth = .5;\n        context.strokeStyle = \"rgb(80, 64, 39)\";\n        context.stroke();\n    }\n\n    function canvasAddLakes() {\n        var lakes = topojson.feature(_.world, _.world.objects.ne_110m_lakes);\n        var context = this.canvasPlugin.context();\n        var path = this.canvasPlugin.path();\n        context.beginPath();\n        path(lakes);\n        context.fillStyle = \"rgb(80, 87, 97)\";\n        context.fill();\n    }\n\n    var urls = null;\n    if (urlWorld) {\n        urls = [urlWorld];\n        if (urlCountryNames) {\n            urls.push(urlCountryNames);\n        }\n    }\n\n    return {\n        name: 'worldCanvas',\n        urls: urls,\n        onReady(err, world, countryNames) {\n            _.world = world;\n            _.countryNames = countryNames;\n        },\n        onInit() {\n            this._.options.showLand = true;\n            this._.options.showLakes = true;\n            this._.options.showCountries = true;\n            this.canvasAddWorldOrCountries = canvasAddWorldOrCountries;\n        },\n        onRefresh() {\n            canvasAddWorldOrCountries.call(this);\n        }\n    }\n}\n","export default function(urlWorld, urlCountryNames) {\n    var _ = {svg:null, select: null, world: null, countries: null, countryNames: null};\n    var countryClick = function() {\n        // console.log(d);\n    }\n\n    function svgAddWorldOrCountries() {\n        _.svg.selectAll('.land,.lakes,.countries').remove();\n        if (this._.options.showLand) {\n            if (_.world) {\n                if (this._.options.showCountries) {\n                    this.svgAddCountries.call(this);\n                } else {\n                    this.svgAddWorld.call(this);\n                }\n                if (this._.options.showLakes) {\n                    this.svgAddLakes.call(this);\n                }\n            }\n        }\n    }\n\n    function svgAddCountries() {\n        this._.countries = _.svg.append(\"g\").attr(\"class\",\"countries\").selectAll(\"path\")\n        .data(_.countries).enter().append(\"path\").attr(\"id\",function(d) {return 'x'+d.id})\n        .on('click', countryClick)\n        .attr(\"d\", this._.path);\n        return this._.countries;\n    }\n\n    function svgAddWorld() {\n        this._.world = _.svg.append(\"g\").attr(\"class\",\"land\").append(\"path\")\n        .datum(topojson.feature(_.world, _.world.objects.land))\n        .attr(\"d\", this._.path);\n        return this._.world;\n    }\n\n    function svgAddLakes() {\n        this._.lakes = _.svg.append(\"g\").attr(\"class\",\"lakes\").append(\"path\")\n        .datum(topojson.feature(_.world, _.world.objects.ne_110m_lakes))\n        .attr(\"d\", this._.path);\n        return this._.lakes;\n    }\n\n    var urls = null;\n    if (urlWorld) {\n        urls = [urlWorld];\n        if (urlCountryNames) {\n            urls.push(urlCountryNames);\n        }\n    }\n    return {\n        name: 'worldPlugin',\n        urls: urls,\n        onReady(err, world, countryNames) {\n            _.world = world;\n            _.countryNames = countryNames;\n            _.countries = topojson.feature(_.world, _.world.objects.countries).features;\n        },\n        onInit() {\n            this._.options.showLand = true;\n            this._.options.showLakes = true;\n            this._.options.showCountries = true;\n            this.svgAddWorldOrCountries = svgAddWorldOrCountries;\n            this.svgAddCountries = svgAddCountries;\n            this.svgAddWorld = svgAddWorld;\n            this.svgAddLakes = svgAddLakes;\n            _.svg = this._.svg;\n        },\n        onRefresh() {\n            if (_.world && this._.options.showLand) {\n                if (this._.options.showCountries) {\n                    this._.countries.attr(\"d\", this._.path);\n                } else {\n                    this._.world.attr(\"d\", this._.path);\n                }\n                if (this._.options.showLakes) {\n                    this._.lakes.attr(\"d\", this._.path);\n                }\n            }\n        },\n        countries() {\n            return _.countries;\n        },\n        countryName(d) {\n            var cname = '';\n            if (_.countryNames) {\n                cname = _.countryNames.find(function(x) {\n                    return x.id==d.id;\n                });\n            }\n            return cname;\n        },\n        select(slc) {\n            _.svg = d3.selectAll(slc);\n            _.select = slc;\n            return _.svg;\n        },\n        data(p) {\n            if (p) {\n                var data = p.worldPlugin.data()\n                _.countryNames = data.countryNames;\n                _.world = data.world;\n            } else {\n                return {\n                    countryNames: _.countryNames,\n                    world: _.world\n                }\n            }\n        }\n    };\n}\n","// KoGor’s Block http://bl.ocks.org/KoGor/5994804\n//\nexport default function() {\n    var _ = {focused: null}\n\n    function country(cnt, id) {\n        id = id.replace('x', '');\n        for(var i=0, l=cnt.length; i<l; i++) {\n            if(cnt[i].id == id) {return cnt[i];}\n        }\n    }\n\n    function transition(p) {\n        var _this = this;\n        d3.transition()\n        .duration(2500)\n        .tween(\"rotate\", function() {\n            var r = d3.interpolate(_this._.proj.rotate(), [-p[0], -p[1]]);\n            return function(t) {\n                _this._.rotate(r(t));\n            };\n        })\n    }\n\n    return {\n        name: 'centerPlugin',\n        onInit() {\n            var _this = this;\n            var originalsvgAddCountries = this.svgAddCountries;\n            this.svgAddCountries = function() {\n                return originalsvgAddCountries.call(this)\n                .on(\"click\", function(d) {\n                    var id = this.id.replace('x', ''),\n                    c = _this.worldPlugin.countries(),\n                    focusedCountry = country(c, id),\n                    p = d3.geoCentroid(focusedCountry);\n                    transition.call(_this, p);\n                    console.log(id);\n                    if (typeof(_.focused)==='function') {\n                        _.focused.call(_this);\n                    }\n                });\n            }\n        },\n        go(id) {\n            focusedCountry = country(c, id),\n            p = d3.geoCentroid(focusedCountry);\n            transition.call(_this, p);\n        },\n        focused(fn) {\n            _.focused = fn;\n        }\n    }\n}\n","// KoGor’s Block http://bl.ocks.org/KoGor/5994804\n//\nexport default function() {\n    var countryTooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"countryTooltip\");\n\n    return {\n        name: 'countryTooltipPlugin',\n        onInit() {\n            var _this = this;\n            var originalsvgAddCountries = this.svgAddCountries;\n            this.svgAddCountries  = function() {\n                return originalsvgAddCountries.call(this)\n                .on(\"mouseover\", function(d) {\n                    var country = _this.worldPlugin.countryName.call(_this, d);\n                    countryTooltip.text(country.name)\n                    .style(\"left\", (d3.event.pageX + 7) + \"px\")\n                    .style(\"top\", (d3.event.pageY - 15) + \"px\")\n                    .style(\"display\", \"block\")\n                    .style(\"opacity\", 1);\n                })\n                .on(\"mouseout\", function() {\n                    countryTooltip.style(\"opacity\", 0)\n                    .style(\"display\", \"none\");\n                })\n                .on(\"mousemove\", function() {\n                    countryTooltip.style(\"left\", (d3.event.pageX + 7) + \"px\")\n                    .style(\"top\", (d3.event.pageY - 15) + \"px\");\n                });\n            }\n        },\n    }\n}\n","export default function() {\n    var _ = {proj: null};\n\n    return {\n        name: 'flattenPlugin',\n        onInit() {\n            var width = 700,\n                height = 500,\n                _this = this;\n\n            function animation() {\n                _this._.svg.transition()\n                    .duration(10500)\n                    .tween(\"projection\", function() {\n                        return function(_x) {\n                            animation.alpha(_x);\n                            _this._.refresh();\n                        };\n                    });\n            }\n\n            function interpolatedProjection(a, b) {\n                var px = d3.geoProjection(raw).scale(1), alpha;\n\n                function raw(lamda, pi) {\n                    var pa = a([lamda *= 180 / Math.PI, pi *= 180 / Math.PI]), pb = b([lamda, pi]);\n                    return [(1 - alpha) * pa[0] + alpha * pb[0], (alpha - 1) * pa[1] - alpha * pb[1]];\n                }\n\n                animation.alpha = function(_x) {\n                    if (!arguments.length)\n                        return alpha;\n                    var ta = a.translate(),\n                        tb = b.translate();\n                        alpha = + _x;\n                        tb[0] = ta[0];\n                        tb[1] = ta[1]/1.2;\n                    console.log(px.rotate(), _x);\n                    px.translate([\n                        (1 - alpha) * ta[0] + alpha * tb[0],\n                        ((1 - alpha) * ta[1] + alpha * tb[1])\n                    ]);\n                    return px;\n                };\n                animation.alpha(0);\n                return px;\n            }\n\n            var g1 = this._.proj;\n            var g2 = d3.geoEquirectangular()\n                .scale(width/4)\n                .translate([width / 2, height / 2]);\n            _.proj = interpolatedProjection(g1, g2);\n            // _.proj.center([0,0]);\n            this._.animation = animation;\n            this._.px = _.proj;\n            this._.g1 = g1;\n            this._.g2 = g2;\n        },\n        toMap() {\n            // var r = this._.proj.rotate();\n            this._.path = d3.geoPath().projection(_.proj);\n            // this._.proj.rotate([r[0],0,0]);\n            // this._.proj.center([0,0]);\n            this.svgDraw();\n            this._.animation.call(this);\n        }\n    }\n}\n","export default function(urlBars) {\n    var _ = {svg:null, barProjection: null, select: null, bars: null};\n\n    function svgAddBar() {\n        _.svg.selectAll('.bar').remove();\n        if (_.bars && this._.options.showBars) {\n            var gBar = _.svg.append(\"g\").attr(\"class\",\"bar\");\n            var mask = gBar.append(\"mask\")\n                .attr(\"id\", \"edge\");\n            mask.append(\"rect\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 0)\n                .attr(\"width\", \"100%\")\n                .attr(\"height\", \"100%\")\n                .attr(\"fill\", \"white\");\n            mask.append(\"use\")\n                .attr(\"xlink:href\", \"#edgeCircle\")\n                .attr(\"fill\", \"black\");\n            this._.mask = mask;\n\n            _.max = d3.max(_.bars, function(d) {\n              return parseInt(d.Value);\n            })\n\n            var scale = this._.proj.scale();\n            _.lengthScale = d3.scaleLinear()\n                .domain([0, _.max])\n                .range([scale, scale+50])\n\n            this._.bar = gBar.selectAll(\"line\").data(_.bars).enter().append(\"line\")\n                .attr(\"stroke\", \"red\")\n                .attr(\"stroke-width\", \"2\");\n            return this._.bar;\n        }\n    }\n\n    function svgClipPath() {\n        // mask creation\n        this._.defs.selectAll('clipPath').remove();\n        this._.defs.append(\"clipPath\").append(\"circle\")\n            .attr(\"id\", \"edgeCircle\")\n            .attr(\"cx\", this._.options.width / 2)\n            .attr(\"cy\", this._.options.height / 2)\n            .attr(\"r\",  this._.proj.scale());\n    }\n\n    function refresh() {\n        if (_.bars && this._.options.showBars) {\n            var proj= this._.proj;\n            var centerPos = proj.invert([this._.options.width / 2, this._.options.height/2]);\n            this._.bar\n                .attr(\"x1\", function(d) {\n                    return proj([d.Longitude, d.Latitude])[0]\n                })\n                .attr(\"y1\", function(d) {\n                    return proj([d.Longitude, d.Latitude])[1]\n                })\n                .attr(\"x2\", function(d) {\n                    _.barProjection.scale(_.lengthScale(d.Value));\n                    return _.barProjection([d.Longitude, d.Latitude])[0];\n                })\n                .attr(\"y2\", function(d) {\n                    _.barProjection.scale(_.lengthScale(d.Value));\n                    return _.barProjection([d.Longitude, d.Latitude])[1];\n                })\n                .attr(\"mask\", function (d) {\n                    var gDistance = d3.geoDistance([d.Longitude, d.Latitude], centerPos);\n                    return gDistance < 1.57 ? null : \"url(#edge)\";\n                });\n        }\n    }\n\n    return {\n        name: 'barPlugin',\n        urls: urlBars && [urlBars],\n        onReady(err, bars) {\n            var _this = this;\n            _.bars = bars;\n            // svgAddBar.call(this); //called in this.svgDraw();\n            setTimeout(function() {\n                refresh.call(_this);\n            },1)\n        },\n        onInit() {\n            this.svgAddBar = svgAddBar;\n            this.svgClipPath = svgClipPath;\n            this._.options.showBars = true;\n            _.barProjection = this._.orthoGraphic();\n            _.svg = this._.svg;\n            svgClipPath.call(this);\n        },\n        onResize() {\n            svgClipPath.call(this);\n            svgAddBar.call(this);\n        },\n        onRefresh() {\n            _.barProjection.rotate(this._.proj.rotate());\n            refresh.call(this);\n        },\n        select(slc) {\n            _.svg = d3.selectAll(slc);\n            _.select = slc;\n            return _.svg;\n        },\n        data(p) {\n            if (p) {\n                var data = p.barPlugin.data()\n                _.bars = data.bars;\n            } else {\n                return {bars: _.bars}\n            }\n        },\n    }\n}\n","import app from './src/earthjs';\nimport versorDragPlugin from './src/plugins/versorDragPlugin.js';\nimport wheelZoomPlugin from './src/plugins/wheelZoomPlugin.js';\nimport canvasPlugin from './src/plugins/canvasPlugin.js';\nimport oceanPlugin from './src/plugins/oceanPlugin.js';\nimport configPlugin from './src/plugins/configPlugin.js';\nimport graticuleCanvas from './src/plugins/graticuleCanvas.js';\nimport graticulePlugin from './src/plugins/graticulePlugin.js';\nimport fauxGlobePlugin from './src/plugins/fauxGlobePlugin.js';\nimport autorotatePlugin from './src/plugins/autorotatePlugin.js';\nimport placesPlugin from './src/plugins/placesPlugin.js';\nimport worldCanvas from './src/plugins/worldCanvas.js';\nimport worldPlugin from './src/plugins/worldPlugin.js';\nimport centerPlugin from './src/plugins/centerPlugin.js';\nimport countryTooltipPlugin from './src/plugins/countryTooltipPlugin.js';\nimport flattenPlugin from './src/plugins/flattenPlugin.js';\nimport barPlugin from './src/plugins/barPlugin.js';\napp.plugins= {\n    versorDragPlugin,\n    wheelZoomPlugin,\n    canvasPlugin,\n    oceanPlugin,\n    configPlugin,\n    graticuleCanvas,\n    graticulePlugin,\n    fauxGlobePlugin,\n    autorotatePlugin,\n    placesPlugin,\n    worldCanvas,\n    worldPlugin,\n    centerPlugin,\n    countryTooltipPlugin,\n    flattenPlugin,\n    barPlugin\n};\nexport default app;\n"],"names":["app"],"mappings":"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"}